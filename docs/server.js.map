{"version":3,"sources":["webpack:///server.js","webpack:///webpack/bootstrap 8bc069d51849d6ef8b9b","webpack:///./server/config/index.js","webpack:///./server/index.js","webpack:///external \"restify\"","webpack:///./server/routes/index.js","webpack:///external \"fs\"","webpack:///./server/db/index.js","webpack:///external \"mongoose\""],"names":["require","install","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","default","version","env","port","process","PORT","base_url","BASE_URL","db","MONGODB_NAME","host","MONGODB_HOST","MONGODB_PORT","_interopRequireDefault","obj","_restify","_restify2","_config","_config2","_routes","_routes2","_db","newObj","key","server","createServer","use","plugins","acceptParser","acceptable","authorizationParser","dateParser","queryParser","jsonp","bodyParser","serveStatic","directory","listen","database","connect","on","err","console","error","exit","once","log","_fs","_mongoose2","useMongoClient","connection","listNotes","createNote","data","deleteNote","id","_mongoose","Promise","global"],"mappings":"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","file":"server.js","sourcesContent":["require(\"source-map-support\").install();\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    name: 'Movies-searcher',\n    version: '0.0.2',\n    env: \"production\" || 'development',\n    port: process.env.PORT || 3000,\n    base_url: process.env.BASE_URL || 'http://localhost:3000',\n    db: {\n        name: process.env.MONGODB_NAME || \"movies-searcher\",\n        host: process.env.MONGODB_HOST || \"localhost\",\n        port: process.env.MONGODB_PORT || 27017\n    }\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _restify = __webpack_require__(2);\n\nvar _restify2 = _interopRequireDefault(_restify);\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _routes = __webpack_require__(3);\n\nvar _routes2 = _interopRequireDefault(_routes);\n\nvar _db = __webpack_require__(5);\n\nvar db = _interopRequireWildcard(_db);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//**** Initialize Server ****\nvar server = _restify2.default.createServer({\n    name: _config2.default.name,\n    version: _config2.default.version\n});\n\n//**** Middleware ****\nserver.use(_restify2.default.plugins.acceptParser(server.acceptable));\nserver.use(_restify2.default.plugins.authorizationParser());\nserver.use(_restify2.default.plugins.dateParser());\nserver.use(_restify2.default.plugins.queryParser());\nserver.use(_restify2.default.plugins.jsonp());\nserver.use(_restify2.default.plugins.bodyParser());\n\nserver.get('/', _restify2.default.plugins.serveStatic({\n    directory: './build/public',\n    default: 'index.html'\n}));\n\n//**** Routes ****\n(0, _routes2.default)(server);\n\n//**** Start Server, Connect to DB ****\nserver.listen(_config2.default.port, function () {\n\n    // establish connection to mongodb\n    var database = db.connect();\n\n    database.on('error', function (err) {\n        console.error(err);\n        process.exit(1);\n    });\n\n    database.once('open', function () {\n        console.log('Server is listening on port ' + _config2.default.port);\n    });\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"restify\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _fs = __webpack_require__(4);\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (server) {\n\n    // server.get('/', function(req, res, next) {\n    //\n    //     res.end();\n    //\n    //     // res.send(200, {result: \"OK\"});\n    //     // fs.readFile('./public/index.html', 'utf8', function(err, file) {\n    //     //     if (err) {\n    //     //         res.send(500);\n    //     //         return next();\n    //     //     }\n    //     //\n    //     //     res.send({\n    //     //         code: 200,\n    //     //         noEnd: true\n    //     //     });\n    //     //     res.write(file);\n    //     //     res.end();\n    //     //     return next();\n    //     // });\n    //\n    // });\n\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"fs\");\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.connect = connect;\nexports.listNotes = listNotes;\nexports.createNote = createNote;\nexports.deleteNote = deleteNote;\n\nvar _mongoose = __webpack_require__(6);\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _config = __webpack_require__(0);\n\nvar _config2 = _interopRequireDefault(_config);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// const Note = mongoose.model('Note');\n\n_mongoose2.default.Promise = global.Promise;\n\nfunction connect() {\n    _mongoose2.default.connect('mongodb://' + _config2.default.db.host + ':' + _config2.default.db.port + '/' + _config2.default.db.name, {\n        useMongoClient: true\n        /* other options */\n    });\n\n    return _mongoose2.default.connection;\n}\n\nfunction listNotes() {\n    // return Note.find();\n}\n\nfunction createNote(data) {\n    // const note = new Note({\n    //     title:      data.title,\n    //     text:       data.text,\n    //     color:      data.color,\n    //     createdAt:  new Date()\n    // });\n    // return note.save();\n}\n\nfunction deleteNote(id) {\n    // return Note.findById(id).remove();\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mongoose\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// server.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8bc069d51849d6ef8b9b","\r\nexport default {\r\n    name:       'Movies-searcher',\r\n    version:    '0.0.2',\r\n    env:        process.env.NODE_ENV || 'development',\r\n    port:       process.env.PORT || 3000,\r\n    base_url:   process.env.BASE_URL || 'http://localhost:3000',\r\n    db: {\r\n        name: process.env.MONGODB_NAME || \"movies-searcher\",\r\n        host: process.env.MONGODB_HOST || \"localhost\",\r\n        port: process.env.MONGODB_PORT || 27017\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/config/index.js","\r\nimport restify from 'restify';\r\n\r\nimport config from './config';\r\nimport routes from './routes';\r\nimport * as db from './db';\r\n\r\n//**** Initialize Server ****\r\nconst server = restify.createServer({\r\n    name: config.name,\r\n    version: config.version,\r\n});\r\n\r\n//**** Middleware ****\r\nserver.use(restify.plugins.acceptParser(server.acceptable));\r\nserver.use(restify.plugins.authorizationParser());\r\nserver.use(restify.plugins.dateParser());\r\nserver.use(restify.plugins.queryParser());\r\nserver.use(restify.plugins.jsonp());\r\nserver.use(restify.plugins.bodyParser());\r\n\r\nserver.get('/', restify.plugins.serveStatic({\r\n    directory: './build/public',\r\n    default: 'index.html'\r\n}));\r\n\r\n//**** Routes ****\r\nroutes(server);\r\n\r\n//**** Start Server, Connect to DB ****\r\nserver.listen(config.port, () => {\r\n\r\n    // establish connection to mongodb\r\n    const database = db.connect();\r\n\r\n    database.on('error', (err) => {\r\n        console.error(err);\r\n        process.exit(1);\r\n    });\r\n\r\n    database.once('open', () => {\r\n        console.log(`Server is listening on port ${config.port}`);\r\n    });\r\n});\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js","module.exports = require(\"restify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"restify\"\n// module id = 2\n// module chunks = 0","\r\nimport fs from 'fs';\r\n\r\nexport default (server) => {\r\n\r\n    // server.get('/', function(req, res, next) {\r\n    //\r\n    //     res.end();\r\n    //\r\n    //     // res.send(200, {result: \"OK\"});\r\n    //     // fs.readFile('./public/index.html', 'utf8', function(err, file) {\r\n    //     //     if (err) {\r\n    //     //         res.send(500);\r\n    //     //         return next();\r\n    //     //     }\r\n    //     //\r\n    //     //     res.send({\r\n    //     //         code: 200,\r\n    //     //         noEnd: true\r\n    //     //     });\r\n    //     //     res.write(file);\r\n    //     //     res.end();\r\n    //     //     return next();\r\n    //     // });\r\n    //\r\n    // });\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 4\n// module chunks = 0","\r\nimport mongoose from 'mongoose';\r\nimport config from '../config';\r\n\r\n// const Note = mongoose.model('Note');\r\n\r\nmongoose.Promise = global.Promise;\r\n\r\nexport function connect() {\r\n    mongoose.connect(\r\n        `mongodb://${config.db.host}:${config.db.port}/${config.db.name}`,\r\n        {\r\n            useMongoClient: true,\r\n            /* other options */\r\n        }\r\n    );\r\n\r\n    return mongoose.connection;\r\n}\r\n\r\nexport function listNotes() {\r\n    // return Note.find();\r\n}\r\n\r\nexport function createNote(data) {\r\n    // const note = new Note({\r\n    //     title:      data.title,\r\n    //     text:       data.text,\r\n    //     color:      data.color,\r\n    //     createdAt:  new Date()\r\n    // });\r\n    // return note.save();\r\n}\r\n\r\nexport function deleteNote(id) {\r\n    // return Note.findById(id).remove();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/db/index.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}